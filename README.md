# FreeRTOS Ported to Raspberry Pi

Fork from James Walmsley's RPi 1 FreeRTOS build.
https://github.com/jameswalmsley/RaspberryPi-FreeRTOS

## Howto Build

On Ubuntu you can install the toolchain with: sudo apt-get install gcc-arm-none-eabi

Type make! -- If you get an error then:

    $ cd .dbuild/pretty
    $ chmod +x *.py

Currently the makefile expect an arm-none-eabi- toolchain in the path. Either export the path to yours or
modify the TOOLCHAIN variable in dbuild.config.mk file.

You may also need to modify the library locations in the Makefile:

    kernel.elf: LDFLAGS += -L"c:/yagarto/lib/gcc/arm-none-eabi/6.3.1/" -lgcc
    kernel.elf: LDFLAGS += -L"c:/yagarto/arm-none-eabi/lib/" -lc

The build system also expects find your python interpreter by using /usr/bin/env python,
if this doesn't work you will get problems.

To resolve this, modify the #! lines in the .dbuild/pretty/*.py files.

## Deploy to pi
Format your SD card as FAT32
Copy the bootcode.bin and start.elf from here: https://github.com/raspberrypi/firmware/tree/master/boot

Copy the "kernel.img" generated by make.

You should see the green ACT LED continuously blink as proof the task schedualer is working.

Hope this helps.
